//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
//---------------------- Pride Power------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
//* Project Name       : C50ES_FP
//* File Name          : ADC.C
//* Author             : Judy
//* Version            : V1.0.0
//* Start Date         : 2011,05,26
//* Description        : 该文件用于设置9S12XEP100的AD精度、分辨率、采样时间、采样通道和中断使能等待
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
//----------------------------------------------------------------------------------------------------
#include "derivative.h" /* include peripheral declarations */
//**********************************************************************
//* Function name:   ADCInitial
//* Description:     ADC模块初始化，
//* EntryParameter : None
//* ReturnValue    : None
//**********************************************************************
void ADCInitial(void) 
{ 
    ATD0CTL1=0x4f;//12位精度
    //ATD0CTL2=0x82; //使能AD，正常清除标志,不使用外部触发 ,开顺序转换结束中断
    ATD0CTL2=0x80;// 禁止ADC
  	ATD0CTL3=0xa0;//右对齐，
  	ATD0CTL4=0x0f; //采样时间周期为4个时钟周期，16分频、、采样频率应该在500k和2m之间
  	ATD0CTL5=0xb0; //扫描模式，使用通道 0
  	
    //ATD0CTL2=0x82; //使能AD，正常清除标志,不使用外部触发 ,开顺序转换结束中断
    //ATD0CTL5=0xb0; 
}
//**********************************************************************
//* Function name:   turnOnADC
//* Description:     开启AD中断
//* EntryParameter : None
//* ReturnValue    : None
//**********************************************************************
void turnOnADC(void)
{
    ATD0CTL2=0x82; //使能AD，正常清除标志,不使用外部触发 ,开顺序转换结束中断
    ATD0CTL5=0xb0; 
}
//**********************************************************************
//* Function name:   turnOffADC
//* Description:     关闭AD中断
//* EntryParameter : None
//* ReturnValue    : None
//**********************************************************************
void turnOffADC(void)
{
    ATD0CTL2=0x80;//
    ATD0CTL5=0xb0; 
}
